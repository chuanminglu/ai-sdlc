@startuml 预订业务活动图
|客户|
start
:选择房间和日期;
:查看房间详情;

|系统|
:检查房间可用性;
if (房间可用?) then (是)
    |客户|
    :填写预订信息;
    :选择支付方式;
    :确认预订;
    
    |系统|
    :验证预订信息;
    if (信息有效?) then (是)
        :锁定房间;
        :计算总价;
        :创建预订记录;
        
        |支付系统|
        :处理支付;
        if (支付成功?) then (是)
            |系统|
            :确认预订;
            :发送确认通知;
            |客户|
            :收到预订确认;
            stop
        else (否)
            |系统|
            :取消预订;
            :释放房间锁定;
            :通知支付失败;
            |客户|
            :重新尝试支付;
            stop
        endif
    else (否)
        |客户|
        :修正预订信息;
        stop
    endif
else (否)
    |客户|
    :选择其他房间或日期;
    stop
endif

@enduml
