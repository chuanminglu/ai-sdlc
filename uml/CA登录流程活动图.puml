@startuml CA登录流程活动图
!define RECTANGLE class

title CA登录流程活动图

|用户|
start
:选择"CA登录";
:插入UKey;
:输入口令;

|浏览器|
:读取UKey中的证书信息;
:读取签名数据;
:提交至UUV认证接口;

|UUV代理服务|
:接收认证请求;
:校验签名;
:转发至CA服务器进行验证;

|CA服务器|
:接收验证请求;
:验证证书和签名;
:生成认证结果;

|UUV代理服务|
:接收CA服务器认证结果;
if (认证成功?) then (是)
  :将认证成功结果反馈至业务系统;
else (否)
  :将认证失败结果反馈至业务系统;
endif

|业务系统|
:接收认证结果;
if (认证成功?) then (是)
  :完成登录;
  :允许用户访问系统;
else (否)
  :登录失败;
  :显示错误信息;
endif

stop

@enduml
